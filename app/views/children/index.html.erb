<% content_for :javascript do %>
    <script type="text/javascript" language="javascript">
      function photos() {
        $("[class^='photos_'] .icon .fa-camera").css('cursor', 'pointer');

        $("[class^='photos_'] .icon .fa-camera").click(function (event) {
          var $target = $(event.target);
          var target_class = $target.parents("td[class^='photos_']").attr('class');


          $('.' + target_class + ' .photo .photo_link a').lightBox({
            fixedNavigation: true,
            imageLoading: '<%= image_url('lightbox-ico-loading.gif') %>',
            imageBtnPrev: '<%= image_url('lightbox-btn-prev.gif') %>',
            imageBtnNext: '<%= image_url('lightbox-btn-next.gif') %>',
            imageBtnClose: '<%= image_url('lightbox-btn-close.gif') %>',
            imageBlank:    '<%= image_url('lightbox-blank.gif') %>'
          });


          $('.' + target_class + ' .photo .photo_link a')[0].click();
          return false;
        });
      };

      $(photos);
    </script>
<% end %>
<%= render 'record_shared/list_view_table', model: Child, record: 'case', collection: @children %>
